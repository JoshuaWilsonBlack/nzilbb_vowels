# Functions for Vowel Covariation Studies

**This package is in _very_ early stage of development.**

This R package is designed to make it easier to carry out analysis of monophthong covariation. 

The package is written in a `tidyverse` style. Plotting functions produce ggplot objects, which can be modified by the user in the usual ggplot fashion. PCA visualisations use functions from the `factoextra` package. The functions to fit by-vowel models, by default, use `mgcv`.

The origin of these functions is in work towards Brand et al. (2021) and Wilson Black et al. (under review), carried out at the New Zealand Institute of Language, Brain and Behaviour and the University of Canterbury.

## Data Requirements

**TODO**

## Packaged Data

The package includes two pairs of datasets. One is designed to allow exploration of analysis in the style of Brand et al. (2021), the second is designed to follow the analysis of Wilson Black et al. (2022).

1. A sample of 100 speakers from ONZE.
	- `onze_means`: the mean F1 and F2 values for 100 speakers in the ONZE corpus.
	- `onze_intercepts`: random intercepts for the 100 speakers in `onze_means`. Intercepts generated by Brand et al. (2021).
2. A sample of 77 speakers from QuakeBox, with 11 in each age category.
	- `qb_vowels`: vowel tokens for speaker monologues after filtering to remove unstressed tokens, stop words, and outliers.
	- `qb_intervals`: monologues divided into 60 and 240 second intervals for the same speakers as `qb_vowels`.

It is recommended to use these datasets in order to try out methods. We do not recommend that these are directly used for research. Full anonymised datasets are given in supplementary data for Brand et al. (2021) and Wilson Black et al. (under review). If you are interested in research on the basis of the ONZE or QuakeBox corpora, contact NZILBB.

## Functions

**All TODO**

### Fit Per-Vowel Models

### Extract By-Speaker Intercepts

### PCA Variable Plot

### PCA Vowel Space Visualisation

## RStudio Addin

It is often useful to have Wells lexical sets in small capitals in R Markdown documents. The way to achieve this manually is to add "<span style="font-variant: small-caps;">vowel</span>". This package includes an RStudio add in, which can be attached to a keyboard shortcut, to quickly include this code within an R Markdown document.
